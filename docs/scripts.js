"use strict";var body=document.body,filenameInput=document.querySelector("#filenameInput"),objectKeyInput=document.querySelector("#objectKey"),objectValueInput=document.querySelector("#objectValue"),nextNodeBtn=document.querySelector("#nextNodeBtn"),nextAnswerBtn=document.querySelector("#nextAnswerBtn"),createItemBtn=document.querySelector("#createItemBtn"),saveFileBtn=document.querySelector("#saveFileBtn"),copyJsonBtn=document.querySelector("#copyJsonBtn");objectKeyInput.focus();var hints=document.querySelectorAll("[data-hint]"),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=hints[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var hint=_step.value;hint.addEventListener("mouseover",function(e){var t=e.target.getAttribute("data-hint"),n=document.querySelector('[data-hint-on="'.concat(t,'"]'));n.classList.add("-demo"),n.classList.contains("-hide")&&(n.disabled=!0,n.classList.remove("-hide"),n.classList.add("-hide2"))}),hint.addEventListener("mouseleave",function(e){var t=e.target.getAttribute("data-hint"),n=document.querySelector('[data-hint-on="'.concat(t,'"]'));n.classList.remove("-demo"),n.classList.contains("-hide2")&&(n.disabled=!1,n.classList.remove("-hide2"),n.classList.add("-hide"))}),hint.addEventListener("click",function(e){var t=e.target.getAttribute("data-hint");document.querySelector('[data-hint-on="'.concat(t,'"]')).focus()})}}catch(e){_didIteratorError=!0,_iteratorError=e}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}nextNodeBtn.addEventListener("click",function(){addNode()}),createItemBtn.addEventListener("click",function(e){body.classList.remove("createView"),body.classList.add("answerView"),saveFileBtn.disabled=!1,nextQuestion()}),objectKeyInput.addEventListener("keyup",function(e){"Enter"===e.code&&body.classList.contains("createView")&&(e.preventDefault(),addNode())}),objectValueInput.addEventListener("keyup",function(e){"Enter"===e.code&&body.classList.contains("createView")&&(e.preventDefault(),addNode()),"Enter"===e.code&&body.classList.contains("answerView")&&(e.preventDefault(),addItems())}),nextAnswerBtn.addEventListener("click",function(){addItems()}),saveFileBtn.addEventListener("click",function(){downloadFile()});var addNode=function(){void 0!==objectKeyInput.value&&0<objectKeyInput.value.length&&(saveNode(objectKeyInput.value,objectValueInput.value),objectKeyInput.value="",objectValueInput.value="",objectKeyInput.focus(),0<=saveNode.length&&createItemBtn.classList.remove("-hide"))},countItem=0,itemsArray=[],allItemsArray=[],nextQuestion=function e(){if(countItem<nodeArray.length)objectKeyInput.disabled=!0,objectKeyInput.value=nodeArray[countItem][0],objectValueInput.value=nodeArray[countItem][1],setTimeout(function(){objectValueInput.focus()},500);else{var t=itemsArray.reduce(function(e,t){return e[t[0]]=t[1],e},{});allItemsArray.push(t),countItem=0,itemsArray=[],displayNodeData(),e(),document.querySelector(".item-count-number").classList.remove("-hide"),document.querySelector(".item-count-number").innerHTML=allItemsArray.length}},addItems=function(){var e=""===objectValueInput.value?nodeArray[countItem][1]:objectValueInput.value;itemsArray.push([nodeArray[countItem][0],e]),countItem++,nextQuestion()},nodeArray=[],saveNode=function(e,t){nodeArray.push([e,t]),displayTemplateData()},displayTemplateData=function(){var e=document.querySelector("#template"),t="";nodeArray.map(function(e){t+="".concat(e[0]," : ").concat(e[1],"<br>")}),e.innerHTML=t},displayNodeData=function(){var e=document.querySelector("#output"),t=JSON.stringify(allItemsArray).replace(/},/g,"},<br>");e.innerHTML=t},newDate=new Date,d=newDate.toISOString().split(".")[0].replace("T","_"),defaultFilename="MyJSON_".concat(d,".json");document.querySelector("#filenameLabel").setAttribute("title","default filename: ".concat(defaultFilename));var downloadFile=function(){var e=""!==filenameInput.value?"".concat(filenameInput.value,".json"):"MyJSON_".concat(d,".json"),t=JSON.stringify(allItemsArray),n=document.createElement("a");n.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",body.appendChild(n),n.click(),body.removeChild(n)};